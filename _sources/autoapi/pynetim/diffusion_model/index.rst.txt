pynetim.diffusion_model
=======================

.. py:module:: pynetim.diffusion_model


Submodules
----------

.. toctree::
   :maxdepth: 1

   /autoapi/pynetim/diffusion_model/base_diffusion_model/index
   /autoapi/pynetim/diffusion_model/independent_cascade_model/index
   /autoapi/pynetim/diffusion_model/linear_threshold_model/index
   /autoapi/pynetim/diffusion_model/run_monte_carlo_diffusion/index
   /autoapi/pynetim/diffusion_model/susceptible_infected_model/index
   /autoapi/pynetim/diffusion_model/susceptible_infected_recovered_model/index


Classes
-------

.. autoapisummary::

   pynetim.diffusion_model.IndependentCascadeModel
   pynetim.diffusion_model.LinearThresholdModel
   pynetim.diffusion_model.SusceptibleInfectedModel
   pynetim.diffusion_model.SusceptibleInfectedRecoveredModel


Functions
---------

.. autoapisummary::

   pynetim.diffusion_model.run_monte_carlo_diffusion


Package Contents
----------------

.. py:class:: IndependentCascadeModel(graph: pynetim.graph.IMGraph, init_seeds: list, record_states: bool = False)

   Bases: :py:obj:`pynetim.diffusion_model.base_diffusion_model.BaseDiffusionModel`


   独立级联模型（Independent Cascade Model）。

   实现了经典的独立级联传播模型，该模型是一种离散时间传播模型，
   在每一轮中，已激活的节点尝试激活其未激活的邻居节点。
   每条边都有固定的传播概率，当节点尝试传播时，根据概率决定是否成功激活邻居。

   .. attribute:: activated_nodes

      所有已被激活的节点集合

      :type: set

   .. attribute:: graph

      表示传播网络结构（继承自BaseDiffusionModel）

      :type: IMGraph

   .. attribute:: init_seeds

      初始种子集（继承自BaseDiffusionModel）

      :type: list

   .. attribute:: record_states

      指示是否记录传播过程中的状态变化（继承自BaseDiffusionModel）

      :type: bool

   .. attribute:: states

      当record_states为True时存储传播过程的状态历史（继承自BaseDiffusionModel）

      :type: list


   .. py:attribute:: activated_nodes


   .. py:method:: update(current_activated_nodes: set)

      执行一次传播更新。

      在当前轮次中，所有新激活的节点尝试激活它们的未激活邻居节点。
      成功激活的节点将在下一轮继续传播。

      :param current_activated_nodes: 当前轮次需要尝试传播的已激活节点集合
      :type current_activated_nodes: set

      :returns: 本轮新激活的节点集合
      :rtype: set



   .. py:method:: diffusion(update_counts=None)

      执行完整的扩散过程。

      进行指定轮次的传播更新，直到达到最大轮次或没有新的节点被激活。

      :param update_counts: 最大更新轮次数。如果为None则持续传播直到无新节点激活
      :type update_counts: int, optional

      :returns: 最终所有被激活的节点集合
      :rtype: set



   .. py:method:: run_monte_carlo_diffusion(rounds: int, update_counts: int = None, multi_process: bool = False, processes: int = None, seed: int = None)

      执行蒙特卡洛模拟扩散过程。

      :param rounds: 总模拟轮数
      :type rounds: int
      :param update_counts: 更新轮次数，适用于SI模型等需要限制传播轮次的模型
      :type update_counts: int, optional
      :param multi_process: 是否启用多进程模式，默认为False
      :type multi_process: bool
      :param processes: 多进程模式下的进程数，为None时使用CPU核心数
      :type processes: int, optional
      :param seed: 模拟时的随机种子
      :type seed: int, optional

      :returns: 所有模拟轮次的平均激活节点数
      :rtype: float



   .. py:method:: reset(init_seeds=None)

      重置模型状态。

      将模型恢复到初始状态，如果启用状态记录则清空已记录的状态历史，
      并重新设置初始种子节点状态。

      :param init_seeds: 新的初始种子节点集合，若为None则使用原有种子集
      :type init_seeds: list, optional



.. py:class:: LinearThresholdModel(graph: pynetim.graph.IMGraph, init_seeds: list, record_states: bool = False)

   Bases: :py:obj:`pynetim.diffusion_model.BaseDiffusionModel`


   线性阈值模型（Linear Threshold Model）。

   实现了经典的线性阈值传播模型，该模型是一种离散时间传播模型，
   每个节点都有一个随机阈值，当其已激活邻居的影响力总和超过该阈值时，
   节点被激活。每个节点对其他节点的影响力通过边权重表示。

   .. attribute:: activated_nodes

      所有已被激活的节点集合

      :type: set

   .. attribute:: graph

      表示传播网络结构（继承自BaseDiffusionModel）

      :type: IMGraph

   .. attribute:: init_seeds

      初始种子集（继承自BaseDiffusionModel）

      :type: list

   .. attribute:: record_states

      指示是否记录传播过程中的状态变化（继承自BaseDiffusionModel）

      :type: bool

   .. attribute:: states

      当record_states为True时存储传播过程的状态历史（继承自BaseDiffusionModel）

      :type: list


   .. py:attribute:: activated_nodes


   .. py:method:: update(current_activated_nodes: set)

      执行一次传播更新。

      在线性阈值模型中，未激活的节点检查其已激活邻居的影响力总和，
      如果超过节点的阈值则被激活。

      :param current_activated_nodes: 当前轮次需要尝试传播的已激活节点集合
      :type current_activated_nodes: set

      :returns: 本轮新激活的节点集合
      :rtype: set



   .. py:method:: diffusion(update_counts: int = None)

      执行完整的扩散过程。

      进行指定轮次的传播更新，直到达到最大轮次或没有新的节点被激活。

      :param update_counts: 最大更新轮次数。如果为None则持续传播直到无新节点激活
      :type update_counts: int, optional

      :returns: 最终所有被激活的节点集合
      :rtype: set



   .. py:method:: run_monte_carlo_diffusion(rounds: int, update_counts: int = None, multi_process: bool = False, processes: int = None, seed: int = None)

      执行蒙特卡洛模拟扩散过程。

      :param rounds: 总模拟轮数
      :type rounds: int
      :param update_counts: 更新轮次数，适用于SI模型等需要限制传播轮次的模型
      :type update_counts: int, optional
      :param multi_process: 是否启用多进程模式，默认为False
      :type multi_process: bool
      :param processes: 多进程模式下的进程数，为None时使用CPU核心数
      :type processes: int, optional
      :param seed: 模拟时的随机种子
      :type seed: int, optional

      :returns: 所有模拟轮次的平均激活节点数
      :rtype: float



   .. py:method:: reset(init_seeds=None)

      重置模型状态。

      将模型恢复到初始状态，如果启用状态记录则清空已记录的状态历史，
      并重新设置初始种子节点状态。

      :param init_seeds: 新的初始种子节点集合，若为None则使用原有种子集
      :type init_seeds: list, optional



.. py:function:: run_monte_carlo_diffusion(diffusion_model: pynetim.diffusion_model.base_diffusion_model.BaseDiffusionModel, rounds: int, update_counts: int = None, multi_process: bool = False, processes: int = None, seed: int = None)

   执行蒙特卡洛模拟扩散过程，支持单进程和多进程模式。

   :param diffusion_model: 扩散模型实例
   :type diffusion_model: BaseDiffusionModel
   :param rounds: 总模拟轮数
   :type rounds: int
   :param update_counts: 更新轮次数，适用于SI等模型
   :type update_counts: int, optional
   :param multi_process: 是否启用多进程模式，默认为False
   :type multi_process: bool, optional
   :param processes: 多进程模式下的进程数，为None时使用CPU核心数
   :type processes: int, optional
   :param seed: 随机种子的基础值，默认为None
   :type seed: int, optional

   :returns: 所有模拟轮次的平均激活节点数
   :rtype: float


.. py:class:: SusceptibleInfectedModel(graph: pynetim.graph.IMGraph, init_seeds: list, beta: float = None, record_states: bool = False)

   Bases: :py:obj:`pynetim.diffusion_model.base_diffusion_model.BaseDiffusionModel`


   SI模型（Susceptible-Infected Model）。

   实现了经典的SI传播模型，该模型是一种简单的传染病传播模型，
   节点只有两种状态：易感(S)和感染(I)。一旦节点被感染，它将始终保持感染状态
   并持续尝试感染其邻居节点。

   .. attribute:: infected_nodes

      所有已被感染的节点集合

      :type: set

   .. attribute:: graph

      表示传播网络结构（继承自BaseDiffusionModel）

      :type: IMGraph

   .. attribute:: init_seeds

      初始感染节点集（继承自BaseDiffusionModel）

      :type: list

   .. attribute:: record_states

      指示是否记录传播过程中的状态变化（继承自BaseDiffusionModel）

      :type: bool

   .. attribute:: states

      当record_states为True时存储传播过程的状态历史（继承自BaseDiffusionModel）

      :type: list

   .. attribute:: beta

      感染概率

      :type: float


   .. py:attribute:: infected_nodes


   .. py:method:: update()

      执行一次传播更新。

      在当前轮次中，所有已感染的节点尝试感染它们的易感邻居节点。
      成功感染的节点将在后续所有轮次中继续传播。

      :returns: 本轮新感染的节点集合
      :rtype: set



   .. py:method:: diffusion(update_counts)

      执行完整的扩散过程。

      进行指定轮次的传播更新，直到达到最大轮次或没有新的节点被感染。

      :param update_counts: 最大更新轮次数。
      :type update_counts: int

      :returns: 最终所有被感染的节点集合
      :rtype: set



   .. py:method:: run_monte_carlo_diffusion(rounds: int, update_counts: int, multi_process: bool = False, processes: int = None, seed: int = None)

      执行蒙特卡洛模拟扩散过程。

      :param rounds: 总模拟轮数
      :type rounds: int
      :param update_counts: 更新轮次数，适用于SI模型等需要限制传播轮次的模型
      :type update_counts: int
      :param multi_process: 是否启用多进程模式，默认为False
      :type multi_process: bool
      :param processes: 多进程模式下的进程数，为None时使用CPU核心数
      :type processes: int, optional
      :param seed: 模拟时的随机种子
      :type seed: int, optional

      :returns: 所有模拟轮次的平均激活节点数
      :rtype: float



   .. py:method:: reset(init_seeds=None)

      重置模型状态。

      将模型恢复到初始状态，如果启用状态记录则清空已记录的状态历史，
      并重新设置初始感染节点状态。

      :param init_seeds: 新的初始感染节点集合，若为None则使用原有种子集
      :type init_seeds: list, optional



.. py:class:: SusceptibleInfectedRecoveredModel(graph: pynetim.graph.IMGraph, init_seeds: list, gamma: float, beta: float = None, record_states: bool = False)

   Bases: :py:obj:`pynetim.diffusion_model.base_diffusion_model.BaseDiffusionModel`


   SIR模型（Susceptible-Infected-Recovered Model）。

   实现了经典的SIR传播模型，该模型是一种传染病传播模型，
   节点有三种状态：易感(S)、感染(I)和康复(R)。
   易感节点可被感染节点感染，感染节点可以康复为免疫状态。

   .. attribute:: infected_nodes

      所有已被感染的节点集合

      :type: set

   .. attribute:: recovered_nodes

      所有已康复的节点集合

      :type: set

   .. attribute:: graph

      表示传播网络结构（继承自BaseDiffusionModel）

      :type: IMGraph

   .. attribute:: init_seeds

      初始感染节点集（继承自BaseDiffusionModel）

      :type: list

   .. attribute:: record_states

      指示是否记录传播过程中的状态变化（继承自BaseDiffusionModel）

      :type: bool

   .. attribute:: states

      当record_states为True时存储传播过程的状态历史（继承自BaseDiffusionModel）

      :type: list

   .. attribute:: gamma

      康复率

      :type: float

   .. attribute:: beta

      感染率

      :type: float


   .. py:attribute:: infected_nodes


   .. py:attribute:: recovered_nodes


   .. py:attribute:: gamma


   .. py:method:: update()

      执行一次传播更新。

      在当前轮次中，先处理感染节点的康复，然后已感染的节点尝试感染它们的易感邻居节点。

      :returns: 本轮新感染的节点集合
      :rtype: set



   .. py:method:: diffusion(update_counts=None)

      执行完整的扩散过程。

      进行指定轮次的传播更新，直到达到最大轮次或没有新的节点被感染。

      :param update_counts: 最大更新轮次数。如果为None则持续传播直到无新节点感染
      :type update_counts: int, optional

      :returns:

                包含最终各状态节点集合的字典
                    - 'infected': 最终被感染的节点集合
                    - 'recovered': 最终已康复的节点集合
                    - 'susceptible': 最终仍处于易感状态的节点集合
      :rtype: dict



   .. py:method:: run_monte_carlo_diffusion(rounds: int, update_counts: int = None, multi_process: bool = False, processes: int = None, seed: int = None)

      执行蒙特卡洛模拟扩散过程。

      :param rounds: 总模拟轮数
      :type rounds: int
      :param update_counts: 更新轮次数，适用于SI模型等需要限制传播轮次的模型
      :type update_counts: int, optional
      :param multi_process: 是否启用多进程模式，默认为False
      :type multi_process: bool
      :param processes: 多进程模式下的进程数，为None时使用CPU核心数
      :type processes: int, optional
      :param seed: 模拟时的随机种子
      :type seed: int, optional

      :returns: 所有模拟轮次的平均激活节点数
      :rtype: float



   .. py:method:: reset(init_seeds=None)

      重置模型状态。

      将模型恢复到初始状态，如果启用状态记录则清空已记录的状态历史，
      并重新设置初始感染节点状态。

      :param init_seeds: 新的初始感染节点集合，若为None则使用原有种子集
      :type init_seeds: list, optional



